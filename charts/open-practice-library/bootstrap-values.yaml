# Declare variables to be passed into your templates.

app_name: "open-practice-library-cms"
cicd_namespace: "argo-cd"
dev_namespace: "opl-dev"

imagestreams:
  - namespace: argo-cd
  - namespace: opl-dev

build:
  secret_name: "github-auth"
  trigger_type: "github"
  source_repo: "https://github.com/rht-labs/open-practice-library-cms.git"
  source_repo_ref: "master"
  builder_image_name: "nodejs"
  builder_image_tag: "10"

argodeploys:
  - env: dev
    repoUrl: https://github.com/rht-labs/open-practice-library-cms.git
    namespace: opl-dev
    targetRevision: master
    values: |
      app_name: open-practice-library-cms
      deploymentconfigs:
        - namespace: opl-dev
          replicas: 1

services:
  - name: open-practice-library-cms
    namespace: opl-dev
    ports:
      - name: http
        protocol: TCP
        port: 8080
        targetPort: 8080
    type: ClusterIP

route:
  - name: open-practice-library-cms
    namespace: opl-dev
    port:
      targetPort: 8080
    to:
      kind: Service
      name: open-practice-library-cms
      weight: 100
